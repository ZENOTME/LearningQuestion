1.切换到用户进程时候，如何设置用户进程的状态？

Eret后spsr会复制到pstate，因此只需要在运行前将状态设置到spsr就可以了

2. 线程的切换过程

   线程切换和trap是两种不同异常控制流，trap切换将用户上下文保存到内核栈，线程切换是将当前状态保存到任务块（被调用者保存寄存器）中，然后将内核栈，用户栈，寄存器一起切换。

   线程包括 用户栈 内核栈 寄存器组 ，而用户态仅仅只有当前寄存器组和用户栈